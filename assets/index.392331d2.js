const m=function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const n of t.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function r(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function s(e){if(e.ep)return;e.ep=!0;const t=r(e);fetch(e.href,t)}};m();const o=new Cesium.Viewer("cesiumContainer");Cesium.Ion.defaultAccessToken="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIzYTk5NDZhNy1hZGRiLTQyNzUtYjRmZC0zZDM4ZDc0ZDRhZGQiLCJpZCI6NDYwNDcsImlhdCI6MTYxNTg3NTI1Mn0.QPYRQfxoUqWlLyFOYTbZKryd8BuVQCosSZD4tVlVpQ8";o.scene.primitives.add(Cesium.createOsmBuildings());async function d(){const i=(await fetch("data/MU5735-Flightradar24-Granular-Data.csv").then(n=>n.text())).split(`
`).map(n=>n.split(","));console.log(i);const r=Cesium.JulianDate.fromIso8601(i[1][0].replace(" ","T").slice(0,20)),s=Cesium.JulianDate.addSeconds(r,60,new Cesium.JulianDate),e=Cesium.JulianDate.fromIso8601(i[i.length-1][0].replace(" ","T").slice(0,20)),t=new Cesium.SampledPositionProperty;for(let n=1;n<i.length;n++){const l=i[n],u=Cesium.JulianDate.fromIso8601(l[0].replace(" ","T").slice(0,20)),c=Cesium.Cartesian3.fromDegrees(Number(l[4]),Number(l[3]),Number(l[6]));t.addSample(u,c),o.entities.add({description:`Location: (${l[4]}, ${l[3]}, ${l[6]})`,position:c,point:{pixelSize:10,color:Cesium.Color.RED}})}t.setInterpolationOptions({interpolationDegree:2,interpolationAlgorithm:Cesium.HermitePolynomialApproximation}),o.clock.startTime=s.clone(),o.clock.stopTime=e.clone(),o.clock.currentTime=s.clone(),o.timeline.zoomTo(s,e),p(r,e,t)}d();o.clock.multiplier=1.5;o.clock.shouldAnimate=!0;o.scene.fxaa=!0;o.scene.postProcessStages.fxaa.enabled=!0;async function p(a,i,r){const s=await Cesium.IonResource.fromAssetId(895338),e=o.entities.add({availability:new Cesium.TimeIntervalCollection([new Cesium.TimeInterval({start:a,stop:i})]),position:r,model:{uri:s},orientation:new Cesium.VelocityOrientationProperty(r),path:new Cesium.PathGraphics({width:3})});o.trackedEntity=e}
