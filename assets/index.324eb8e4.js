const m=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const i of e)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function l(e){const i={};return e.integrity&&(i.integrity=e.integrity),e.referrerpolicy&&(i.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?i.credentials="include":e.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(e){if(e.ep)return;e.ep=!0;const i=l(e);fetch(e.href,i)}};m();const n=new Cesium.Viewer("cesiumContainer");Cesium.Ion.defaultAccessToken="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIzYTk5NDZhNy1hZGRiLTQyNzUtYjRmZC0zZDM4ZDc0ZDRhZGQiLCJpZCI6NDYwNDcsImlhdCI6MTYxNTg3NTI1Mn0.QPYRQfxoUqWlLyFOYTbZKryd8BuVQCosSZD4tVlVpQ8";n.scene.primitives.add(Cesium.createOsmBuildings());fetch("data/MU5735-Flightradar24-Granular-Data.csv").then(o=>o.text()).then(o=>o.split(`\r
`)).then(o=>o.map(t=>t.split(","))).then(o=>{o.shift();const t=o.filter(r=>r[3]!=0),l=Cesium.JulianDate.fromIso8601(t[0][0].replace(" ","T").slice(0,20)),s=Cesium.JulianDate.addSeconds(l,60,new Cesium.JulianDate),e=Cesium.JulianDate.fromIso8601(t[t.length-1][0].replace(" ","T").slice(0,20)),i=new Cesium.SampledPositionProperty;for(let r=0;r<t.length;r++){const c=t[r],u=Cesium.JulianDate.fromIso8601(c[0].replace(" ","T").slice(0,20)),a=Cesium.Cartesian3.fromDegrees(Number(c[4]),Number(c[3]),Number(c[6]));i.addSample(u,a),n.entities.add({description:`Location: (${c[4]}, ${c[3]}, ${c[6]})`,position:a,point:{pixelSize:10,color:Cesium.Color.RED}})}n.clock.startTime=s.clone(),n.clock.stopTime=e.clone(),n.clock.currentTime=s.clone(),n.timeline.zoomTo(s,e),d(t),p(l,e,i)});const d=(o=[])=>{console.log(o[0][0].replace(" ","T").slice(0,20))};n.clock.multiplier=1.3;n.clock.shouldAnimate=!0;async function p(o,t,l){const s=await Cesium.IonResource.fromAssetId(895338),e=n.entities.add({availability:new Cesium.TimeIntervalCollection([new Cesium.TimeInterval({start:o,stop:t})]),position:l,model:{uri:s},orientation:new Cesium.VelocityOrientationProperty(l),path:new Cesium.PathGraphics({width:3})});n.trackedEntity=e}
