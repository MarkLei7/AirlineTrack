const m=function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const o of t.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function s(e){if(e.ep)return;e.ep=!0;const t=r(e);fetch(e.href,t)}};m();const n=new Cesium.Viewer("cesiumContainer");Cesium.Ion.defaultAccessToken="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIzYTk5NDZhNy1hZGRiLTQyNzUtYjRmZC0zZDM4ZDc0ZDRhZGQiLCJpZCI6NDYwNDcsImlhdCI6MTYxNTg3NTI1Mn0.QPYRQfxoUqWlLyFOYTbZKryd8BuVQCosSZD4tVlVpQ8";n.scene.primitives.add(Cesium.createOsmBuildings());async function d(){const i=(await fetch("data/MU5735-Flightradar24-Granular-Data.csv").then(o=>o.text())).split(`\r
`).map(o=>o.split(","));console.log(i);const r=Cesium.JulianDate.fromIso8601(i[1][0].replace(" ","T").slice(0,20)),s=Cesium.JulianDate.addSeconds(r,60,new Cesium.JulianDate),e=Cesium.JulianDate.fromIso8601(i[i.length-1][0].replace(" ","T").slice(0,20)),t=new Cesium.SampledPositionProperty;for(let o=1;o<i.length;o++){const c=i[o],u=Cesium.JulianDate.fromIso8601(c[0].replace(" ","T").slice(0,20)),a=Cesium.Cartesian3.fromDegrees(Number(c[4]),Number(c[3]),Number(c[6]));t.addSample(u,a),n.entities.add({description:`Location: (${c[4]}, ${c[3]}, ${c[6]})`,position:a,point:{pixelSize:10,color:Cesium.Color.RED}})}n.clock.startTime=s.clone(),n.clock.stopTime=e.clone(),n.clock.currentTime=s.clone(),n.timeline.zoomTo(s,e),p(r,e,t)}d();n.clock.multiplier=1.3;n.clock.shouldAnimate=!0;async function p(l,i,r){const s=await Cesium.IonResource.fromAssetId(895338),e=n.entities.add({availability:new Cesium.TimeIntervalCollection([new Cesium.TimeInterval({start:l,stop:i})]),position:r,model:{uri:s},orientation:new Cesium.VelocityOrientationProperty(r),path:new Cesium.PathGraphics({width:3})});n.trackedEntity=e}
